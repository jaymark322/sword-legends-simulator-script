local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()
local Window = OrionLib:MakeWindow({Name = "Scythe Simulator Made by Jacob", HidePremium = false, SaveConfig = true, ConfigFolder = "OrionTest"})

local UserInputService = game:GetService("UserInputService")
local Workspace = game:GetService("Workspace")
local player = game.Players.LocalPlayer

-- Accessing the RemoteEvent from the sword's handle
local sword = player.Backpack:WaitForChild("Sword") -- Make sure this matches the name of your sword
local handle = sword:WaitForChild("Handle") -- Get the Handle of the sword
local dmg = handle:WaitForChild("dmg") -- Get the dmg (assuming it's a folder) inside Handle
local swingRemote = dmg:WaitForChild("RemoteEvent") -- Replace "RemoteEvent" with the actual name of the RemoteEvent for swinging

-- Main Tab
local Tab = Window:MakeTab({
	Name = "Main",
	Icon = "rbxassetid://4483345998",
	PremiumOnly = false
})

-- Auto Rebirth Toggle
Tab:AddToggle({
	Name = "Auto Rebirth",
	Default = false,
	Callback = function(Value)
		getgenv().Rebirth = Value
		
		if getgenv().Rebirth then
			print("Auto Rebirth enabled.")
		else
			print("Auto Rebirth disabled.")
		end

		while getgenv().Rebirth do
			local success, err = pcall(function()
				game:GetService("ReplicatedStorage").Rebirth.Rebirth:FireServer()
				print("Auto Rebirth successful.")
			end)

			if not success then
				print("Error during Auto Rebirth: " .. err)
			end

			wait(0.8) -- Adjust the delay if needed
		end
	end    
})

-- Auto Swing Toggle
Tab:AddToggle({
	Name = "Auto Swing Sword",
	Default = false,
	Callback = function(Value)
		getgenv().autoSwing = Value
		
		if getgenv().autoSwing then
			print("Auto Swing enabled.")
			-- Start the auto swing loop
			while getgenv().autoSwing do
				local success, err = pcall(function()
					swingRemote:FireServer() -- Trigger the swing action
					print("Sword swung.")
				end)

				if not success then
					print("Error during sword swing: " .. err)
				end

				wait(0.5) -- Adjust the delay for swing speed (0.5 seconds)
			end
		else
			print("Auto Swing disabled.")
		end
	end    
})
